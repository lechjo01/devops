# TD 06 - Vérifier avec Sonarqube

![work in progress](/img/work-in-progress.jpeg)

Date de publication : 27 février 2025

<!--
## Découvrir l’interface de SonarQube et configurer un projet.

Installer SonarQube localement (ou via Docker).
Configurer SonarScanner pour analyser un projet.
Démarrer le serveur SonarQube et explorer son interface.
Importer l’application Spring Boot fournie dans l’IDE.
Effectuer une première analyse de base avec SonarScanner et observer les résultats dans le tableau de bord.

## Analyse de qualité de code basique

Objectif : Identifier les problèmes de qualité de code (bugs, vulnérabilités, code smells, etc.).
Exercice pratique :

Configurer le fichier sonar-project.properties pour l’application Spring Boot.
Lancer une analyse de qualité complète du projet.
Examiner les problèmes détectés dans SonarQube :
Les bugs.
Les vulnérabilités.
Les "code smells".
Corriger plusieurs problèmes identifiés dans l’application, relancer l’analyse, et comparer les résultats.


## Gestion des règles de qualité

Objectif : Personnaliser les règles de qualité pour mieux les adapter au projet Spring Boot.
Exercice pratique :

Explorer les profils de qualité dans l’interface SonarQube.
Désactiver ou modifier des règles spécifiques (ex. ajuster des seuils pour la duplication de code ou la complexité cyclomatique).
Réanalyser le projet pour observer l’impact des modifications.
Ajouter un plugin pertinent, comme SonarJava, si besoin, pour enrichir les analyses.

##  Couverture de tests

Objectif : Intégrer les résultats de couverture de tests unitaires dans l’analyse SonarQube.

Ajouter des tests unitaires au projet Spring Boot avec JUnit.
Générer un rapport de couverture de tests avec un outil adapté :
Maven : Utiliser JaCoCo (Java Code Coverage).
Configurer SonarQube pour inclure les données de couverture :
Modifier le fichier sonar-project.properties pour pointer vers le rapport de couverture (sonar.coverage.jacoco.xmlReportPaths).
Lancer une nouvelle analyse SonarQube et observer les résultats dans la section couverture des tests.
Identifier les parties du code non couvertes par les tests et ajouter de nouveaux tests pour améliorer la couverture.

## Publication sur SonarCloud

Objectif : Publier les résultats d’analyse sur SonarCloud pour gérer les projets en ligne et partager les résultats.
Exercice pratique :

Créer un compte gratuit sur SonarCloud et configurer un projet public ou privé.
Connecter le projet Spring Boot à SonarCloud à l’aide du fichier sonar-project.properties ou en configurant un token API.
Lancer une analyse et publier les résultats sur SonarCloud.
Examiner l’interface de SonarCloud pour comparer les métriques et partager les résultats avec les autres étudiants ou enseignants

-->